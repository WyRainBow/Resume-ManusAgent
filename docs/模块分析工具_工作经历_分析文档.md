# 工作经历分析工具设计方案

> **模块标识**：`work`
> **优先级权重**：高（对于有工作经验的候选人，这是最重要的模块）
> **分析方式**：STAR 法则 + LLM 语义分析

---

## 1. 概述

### 1.1 模块定位

工作经历分析工具是 CVAnalyzer 协调者下的核心模块，专门负责使用 **STAR 法则**分析候选人的工作经历，评估工作描述的质量和与目标岗位的匹配度。

### 1.2 核心设计理念

**STAR 法则深度应用**：
- 工作经历是简历中最具价值的部分，需要深度分析
- 每段工作经历都应按照 STAR 法则进行评估
- 重点识别**量化成果**的缺失，这是大多数简历的问题

**STAR 法则详解**：

| 要素 | 英文 | 含义 | 检测重点 |
|------|------|------|----------|
| 情境 | Situation | 工作背景和环境 | 行业、公司规模、团队规模 |
| 任务 | Task | 具体职责和目标 | 目标是否明确、职责范围 |
| 行动 | Action | 采取的具体措施 | 技术栈、具体动作、主动性 |
| 结果 | Result | 量化的成果数据 | 数据支撑、业务价值、效率提升 |

### 1.3 分析目标

| 目标 | 说明 |
|------|------|
| **STAR 完整性** | 检查每段经历是否包含 STAR 四要素 |
| **量化评估** | 识别是否缺少量化成果 |
| **技术匹配** | 分析技术栈与目标岗位的匹配度 |
| **影响力评估** | 评估工作的业务价值和影响力 |

---

## 2. 分析维度

### 2.1 STAR 法则分析

#### Situation（情境）分析

**评估内容**：
- 是否说明了公司/业务背景
- 是否描述了工作环境
- 是否交代了问题/挑战

**检测方法**：
```python
# 关键词检测
situation_keywords = ["在", "期间", "负责", "参与", "背景", "环境"]

# 评估标准
situation_score = {
    "完整": "说明了公司、团队、业务背景",
    "部分": "只提到了公司名称",
    "缺失": "完全没有背景描述"
}
```

#### Task（任务）分析

**评估内容**：
- 职责是否清晰
- 目标是否明确
- 工作范围是否界定

**检测方法**：
```python
# 关键词检测
task_keywords = ["负责", "担任", "担任", "目标", "职责"]

# 评估标准
task_score = {
    "完整": "职责清晰，目标明确",
    "部分": "有职责但目标不明确",
    "缺失": "职责描述模糊"
}
```

#### Action（行动）分析

**评估内容**：
- 是否描述了具体做了什么
- 技术栈是否明确
- 主动性和创新性

**检测方法**：
```python
# 技术栈关键词
tech_keywords = ["使用", "采用", "基于", "运用", "开发", "实现", "设计", "构建", "优化"]

# 技术栈识别（后端开发为例）
backend_tech_stack = [
    "Java", "Python", "Go", "Spring", "Django", "Flask",
    "MySQL", "Redis", "MongoDB", "Kafka", "RabbitMQ",
    "Docker", "K8s", "AWS", "阿里云"
]

# 评估标准
action_score = {
    "完整": "技术栈明确，行动具体",
    "部分": "有行动但技术栈不明确",
    "缺失": "行动描述模糊"
}
```

#### Result（结果）分析 - **最关键**

**评估内容**：
- 是否有量化数据
- 是否体现了业务价值
- 是否有对比数据（优化前后）

**检测方法**：
```python
# 量化指标检测
quantification_indicators = {
    "数字": [r"\d+", r"\d+%"],
    "量词": ["用户", "订单", "请求", "数据", "接口", "模块"],
    "变化词": ["提升", "降低", "减少", "增加", "优化", "节省", "缩短"],
    "时间": ["ms", "秒", "分钟", "天", "月"]
}

# 评估标准
result_score = {
    "完整": "有多项量化数据，业务价值明确",
    "部分": "有数据但不够具体",
    "缺失": "完全没有量化成果"
}
```

### 2.2 量化成果分析

#### 量化维度识别

| 维度 | 指标类型 | 示例 |
|------|----------|------|
| 性能提升 | 响应时间、吞吐量、并发量 | QPS从100提升至1000 |
| 业务增长 | 用户数、订单量、GMV | 日活用户增长50% |
| 效率提升 | 开发效率、运维成本 | 部署时间从2小时缩短至10分钟 |
| 质量改善 | 故障率、可用性 | 系统可用性从99%提升至99.9% |

#### 量化缺失识别

**常见问题模式**：
```
❌ 负责后端开发
❌ 参与系统设计和优化
❌ 负责接口开发和维护

✅ 负责电商后端开发，使用 Spring Boot 构建微服务架构
✅ 通过引入 Redis 缓存，将接口响应时间从 200ms 优化至 50ms
✅ 支撑日均 10 万订单，峰值 QPS 达到 5000
```

### 2.3 技术栈匹配分析

#### 技术深度评估

| 级别 | 描述 | 示例 |
|------|------|------|
| 深度 | 使用技术解决复杂问题 | "设计并实现分布式锁机制" |
| 中度 | 使用技术完成常规任务 | "使用 Redis 实现缓存" |
| 浅度 | 只提技术名词 | "熟悉 Redis" |

#### 技术栈与岗位匹配

**后端开发核心技能**：
- 编程语言：Java/Python/Go/C++
- 框架：Spring/Django/Flask/gin
- 中间件：MySQL/Redis/MongoDB/Kafka
- 架构：微服务/Distributed System/High Availability
- 运维：Docker/K8s/CI-CD

---

## 3. 输出格式规范

### 3.1 JSON 输出结构

```json
{
  "module": "work",
  "module_display_name": "工作经历",
  "score": 50,
  "priority_score": 80,
  "analysis_type": "deep",
  "total_items": 2,
  "analyzed_items": 2,
  "strengths": [
    {
      "item": "大厂经历",
      "description": "有腾讯工作经历，公司认可度高",
      "evidence": "腾讯 | 后端开发工程师"
    }
  ],
  "weaknesses": [
    {
      "item": "缺少量化成果",
      "description": "工作经历描述缺少量化数据和业务价值",
      "impact": "无法体现工作成果和影响力",
      "suggestion": "补充具体的数据成果，如性能提升、用户增长等"
    }
  ],
  "issues": [
    {
      "id": "work-0",
      "company": "腾讯",
      "position": "后端开发工程师",
      "problem": "工作经历缺少量化成果",
      "severity": "high",
      "suggestion": "添加具体的数据成果，如：提升性能 X%、支撑 Y 用户"
    }
  ],
  "highlights": [
    "有腾讯工作经历"
  ],
  "details": {
    "experiences": [
      {
        "id": "work-0",
        "company": "腾讯",
        "position": "后端开发工程师",
        "duration": "2021.07 - 2023.12",
        "star_analysis": {
          "situation": {
            "status": "partial",
            "score": 50,
            "note": "只提到了公司，缺少业务背景"
          },
          "task": {
            "status": "partial",
            "score": 60,
            "note": "有职责描述但目标不明确"
          },
          "action": {
            "status": "good",
            "score": 75,
            "note": "技术栈明确，行动具体"
          },
          "result": {
            "status": "missing",
            "score": 20,
            "note": "缺少量化成果"
          }
        },
        "star_score": 51,
        "quantification": {
          "has_numbers": false,
          "has_metrics": false,
          "has_business_value": false
        },
        "tech_stack": ["Java", "Spring Boot", "MySQL", "Redis"],
        "match_score": 70
      }
    ]
  }
}
```

### 3.2 分析报告模板（深度分析）

```markdown
## 💼 工作经历分析

### 一、整体评估

**工作经历数量**：2段
**综合评分**：50/100 ⚠️ 需要优化

### 二、STAR 分析详情

#### 1. 腾讯 | 后端开发工程师（2021.07 - 2023.12）

**STAR 评分**：51/100

| 要素 | 状态 | 评分 | 分析 |
|------|------|------|------|
| Situation | 部分 | 50/100 | 只提到了公司，缺少业务背景 |
| Task | 部分 | 60/100 | 有职责描述但目标不明确 |
| Action | 良好 | 75/100 | 技术栈明确，行动具体 |
| Result | 缺失 | 20/100 | ❌ 缺少量化成果 |

**主要问题**：
- ❌ 缺少量化成果
- ❌ 缺少业务背景说明
- ⚠️ 技术栈较全面，但未体现深度

**优化建议**：
```
原文：负责后端开发，参与系统设计和优化

优化：负责电商后端开发，使用 Spring Boot 构建微服务架构，
支撑日均 10 万订单，通过引入 Redis 缓存将接口响应时间
从 200ms 优化至 50ms。
```

---

#### 2. 字节跳动 | 后端开发工程师（2019.07 - 2021.06）

**STAR 评分**：49/100

（类似分析...）

### 三、整体评价

**优势**：
1. 有大厂工作经历（腾讯、字节跳动）
2. 技术栈覆盖全面
3. 工作稳定性较好

**可优化点**：
1. **所有工作经历都缺少量化成果**（高优先级）
2. 缺少业务背景说明
3. 未体现技术深度和解决复杂问题的能力

**综合评分**：50/100

### 四、优化建议（按优先级排序）

**高优先级**：
1. 为每段工作经历补充量化成果
2. 说明业务背景和团队规模

**中优先级**：
1. 补充解决的具体技术问题
2. 体现技术深度

**低优先级**：
1. 细化项目成果
```

---

## 4. 优化示例生成

### 4.1 优化模板

```json
{
  "issue_id": "work-0",
  "module": "work",
  "company": "腾讯",
  "position": "后端开发工程师",
  "original": "负责后端开发，参与系统设计和优化",
  "optimized": "负责社交广告投放系统的后端开发，使用 Java + Spring Boot 构建微服务架构，支撑日均 100 万广告投放请求，通过引入 Kafka 消息队列将投放延迟从 500ms 降低至 100ms",
  "explanation": "优化说明：补充了业务场景（社交广告）、技术栈详情、量化数据（100万请求、500ms→100ms）",
  "apply_path": "experience[0].details",
  "changes": [
    {
      "type": "add",
      "field": "业务背景",
      "value": "社交广告投放系统"
    },
    {
      "type": "add",
      "field": "量化数据",
      "value": "日均 100 万请求，500ms → 100ms"
    },
    {
      "type": "add",
      "field": "技术细节",
      "value": "Kafka 消息队列"
    }
  ]
}
```

### 4.2 常见优化模式

| 原文类型 | 优化方向 | 示例 |
|---------|---------|------|
| "负责后端开发" | 添加业务+量化 | "负责XX系统后端，支撑X万用户" |
| "参与系统优化" | 具体化优化内容 | "引入XX技术，性能提升X%" |
| "开发接口" | 添加业务价值 | "开发XX接口，服务X个下游系统" |

---

## 5. 匹配度评分规则

### 5.1 后端开发岗位匹配

| 维度 | 权重 | 评分标准 |
|------|------|----------|
| STAR完整性 | 40分 | S+T+A+R完整=40，缺R扣20分 |
| 量化成果 | 30分 | 有数据=30，部分=15，无=0 |
| 技术匹配 | 30分 | 核心技术匹配=30，部分=15 |

### 5.2 优先级计算

```python
priority_score = (100 - score) + severity_bonus

# severity_bonus
high   = +30  # 缺少量化成果
medium = +15  # 部分要素缺失
low    = +5   # 描述不够具体

# 例子：工作经历 score=50，有 1 个 high 问题（缺少量化）
priority_score = (100 - 50) + 30 = 80
```

---

## 6. 关键词检测规则

### 6.1 STAR 要素关键词

```python
STAR_KEYWORDS = {
    "situation": ["在", "期间", "负责", "参与", "背景", "环境", "团队", "部门"],
    "task": ["负责", "担任", "担任", "目标", "职责", "主要", "承担"],
    "action": ["使用", "采用", "基于", "运用", "开发", "实现", "设计", "构建", "优化"],
    "result": ["提升", "降低", "减少", "增加", "优化", "节省", "缩短", "%", "倍"]
}
```

### 6.2 技术栈关键词

```python
# 后端开发技术栈
BACKEND_TECH_STACK = {
    "languages": ["Java", "Python", "Go", "C++", "Node.js", "PHP"],
    "frameworks": ["Spring", "SpringBoot", "Django", "Flask", "gin", "echo"],
    "databases": ["MySQL", "PostgreSQL", "MongoDB", "Redis", "Elasticsearch"],
    "message_queue": ["Kafka", "RabbitMQ", "RocketMQ"],
    "containers": ["Docker", "Kubernetes", "K8s"],
    "cloud": ["AWS", "阿里云", "腾讯云", "Azure"]
}
```

---

## 7. 特殊场景处理

### 7.1 应届生/无工作经验

| 场景 | 处理方式 |
|------|----------|
| 无工作经验 | 返回空分析，提示优先补充实习/项目 |
| 工作经历不足1年 | 按实习经历标准分析 |

### 7.2 工作经历过多

| 数量 | 处理方式 |
|------|----------|
| > 5段 | 只分析最近3段，其他简要分析 |
| > 10年经验 | 重点分析最近5年，早期经历简化 |

### 7.3 职业跳槽频繁

| 现象 | 阈值 | 建议 |
|------|------|------|
| 短期工作多 | < 1年 | 建议说明离职原因 |
| 职业不连贯 | 跨行业 | 建议突出核心能力 |

---

## 8. 与其他模块的关联

| 关联模块 | 关联说明 |
|----------|----------|
| 项目经历 | 工作经历中的项目可单独展开分析 |
| 技能模块 | 工作经历中的技术栈应与技能模块一致 |
| 教育经历 | 应届生可用实习/项目弥补工作经验不足 |
