# æ¨¡å—åˆ†æå·¥å…·æŠ€æœ¯æ–‡æ¡£

## 1. æ¦‚è¿°

### 1.1 è®¾è®¡ç›®æ ‡

æ„å»ºä¸€ä¸ªæ¨¡å—åŒ–çš„ç®€å†åˆ†æç³»ç»Ÿï¼Œå°† CVAnalyzer ä»"å¤§è€Œå…¨"çš„åˆ†æå™¨é‡æ„ä¸º"è–„"åè°ƒè€…ï¼Œå„æ¨¡å—åˆ†æå™¨ç‹¬ç«‹è´Ÿè´£å„è‡ªé¢†åŸŸçš„æ·±åº¦åˆ†æã€‚

### 1.2 æ ¸å¿ƒç†å¿µ

| åŸåˆ™ | è¯´æ˜ |
|------|------|
| **èŒè´£åˆ†ç¦»** | CVAnalyzer åªåè°ƒï¼Œä¸åšå…·ä½“åˆ†æï¼›æ¨¡å—åˆ†æå™¨åªåˆ†æè‡ªå·±çš„é¢†åŸŸ |
| **è‡ªæˆ‘è¯„åˆ†** | æ¯ä¸ªæ¨¡å—è‡ªå·±è®¡ç®— `priority_score`ï¼ŒCVAnalyzer åªåšæ’åº |
| **ä¸¤é˜¶æ®µè°ƒç”¨** | åˆ†æé˜¶æ®µè¿”å› JSONï¼Œä¼˜åŒ–é˜¶æ®µè¿”å›ç¤ºä¾‹ |
| **æ¨¡å—å†…èš** | ä¸€ä¸ªæ¨¡å—æ—¢è´Ÿè´£åˆ†æï¼Œä¹Ÿè´Ÿè´£ç”Ÿæˆä¼˜åŒ–å»ºè®® |

### 1.3 æ¶æ„å¯¹æ¯”

```
ã€ç°æœ‰æ¶æ„ - CVAnalyzer å¤ªåšã€‘
Manus â†’ CVAnalyzerAgentTool
         â†“
      CVAnalyzer (è‡ªå·±å®ç°æ‰€æœ‰åˆ†æé€»è¾‘)
         â”œâ”€â”€ _check_completeness()
         â”œâ”€â”€ _analyze_star_for_experience()
         â”œâ”€â”€ _analyze_star_for_project()
         â”œâ”€â”€ _analyze_skills()
         â””â”€â”€ analyze_resume()

ã€ç›®æ ‡æ¶æ„ - CVAnalyzer ä½œä¸ºåè°ƒè€…ã€‘
Manus â†’ CVAnalyzerAgentTool
         â†“
      CVAnalyzer (è–„åè°ƒè€…)
         â”œâ”€â”€ è°ƒç”¨ EducationAnalyzerTool
         â”œâ”€â”€ è°ƒç”¨ WorkAnalyzerTool
         â”œâ”€â”€ è°ƒç”¨ InternshipAnalyzerTool
         â”œâ”€â”€ è°ƒç”¨ SkillsAnalyzerTool
         â””â”€â”€ èšåˆæ’åº â†’ è¾“å‡ºæŠ¥å‘Š
```

---

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 æ•´ä½“æ•°æ®æµ

```
ç”¨æˆ·ï¼š"åˆ†ææˆ‘çš„ç®€å†"
    â†“
Manus (ä¸»æ¶æ„)
    â†“ è°ƒç”¨å·¥å…·
CVAnalyzerAgentTool
    â†“ åˆ›å»º Agent
CVAnalyzer (åè°ƒè€…)
    â†“ å¹¶è¡Œè°ƒç”¨æ¨¡å—å·¥å…·
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ EducationAnalyzerTool.analyze()     â”‚ â†’ {score: 70, priority: 30, issues: [...]}
â”‚ WorkAnalyzerTool.analyze()          â”‚ â†’ {score: 50, priority: 85, issues: [...]}
â”‚ InternshipAnalyzerTool.analyze()    â”‚ â†’ {score: 60, priority: 40, issues: [...]}
â”‚ SkillsAnalyzerTool.analyze()        â”‚ â†’ {score: 55, priority: 70, issues: [...]}
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“ èšåˆç»“æœ
CVAnalyzer æŒ‰ priority æ’åº
    â†“ è¿”å›æŠ¥å‘Š
Manus â†’ ç”¨æˆ·
    â†“
ç”¨æˆ·ï¼š"ä¼˜åŒ–å·¥ä½œç»å†"
    â†“
Manus â†’ WorkAnalyzerTool.optimize()
    â†“
WorkAnalyzer æ¨¡å— Agent
    â†“ ç”Ÿæˆä¼˜åŒ–ç¤ºä¾‹
è¿”å›ä¼˜åŒ–å»ºè®® + ç¤ºä¾‹æ–‡æœ¬
```

### 2.2 ç›®å½•ç»“æ„

```
app/
â”œâ”€â”€ agent/
â”‚   â”œâ”€â”€ cv_analyzer.py              # åè°ƒè€… Agent (ç®€åŒ–)
â”‚   â””â”€â”€ module/                     # æ¨¡å—åˆ†æå™¨ç›®å½• (æ–°å»º)
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ base_module_analyzer.py # åŸºç±»
â”‚       â”œâ”€â”€ education_analyzer.py   # æ•™è‚²ç»å†åˆ†æ
â”‚       â”œâ”€â”€ work_analyzer.py        # å·¥ä½œç»å†åˆ†æ
â”‚       â”œâ”€â”€ internship_analyzer.py  # å®ä¹ ç»å†åˆ†æ
â”‚       â””â”€â”€ skills_analyzer.py      # ä¸“ä¸šæŠ€èƒ½åˆ†æ
â”‚
â”œâ”€â”€ tool/
â”‚   â”œâ”€â”€ cv_analyzer_agent_tool.py   # CVAnalyzer å·¥å…·åŒ…è£… (å·²å­˜åœ¨)
â”‚   â””â”€â”€ module_analyzer_tools.py    # æ¨¡å—åˆ†æå™¨å·¥å…·åŒ…è£… (æ–°å»º)
â”‚
â””â”€â”€ prompt/
    â”œâ”€â”€ cv_analyzer.py              # CVAnalyzer prompt (ç®€åŒ–)
    â””â”€â”€ module/                     # æ¨¡å— prompt ç›®å½• (æ–°å»º)
        â”œâ”€â”€ education_prompt.py
        â”œâ”€â”€ work_prompt.py
        â”œâ”€â”€ internship_prompt.py
        â””â”€â”€ skills_prompt.py
```

---

## 3. æ¨¡å—åˆ†æå™¨è®¾è®¡

### 3.1 åŸºç±»è®¾è®¡

```python
# app/agent/module/base_module_analyzer.py

from abc import ABC, abstractmethod
from typing import Dict, List

class BaseModuleAnalyzer(ToolCallAgent, ABC):
    """æ¨¡å—åˆ†æå™¨åŸºç±»"""

    # å­ç±»å¿…é¡»å®šä¹‰
    module_name: str  # å¦‚ "education", "work"
    module_display_name: str  # å¦‚ "æ•™è‚²ç»å†", "å·¥ä½œç»å†"

    @abstractmethod
    async def analyze(self, resume_data: Dict) -> Dict:
        """åˆ†ææ¨¡å—ï¼Œè¿”å›ç»“æ„åŒ–ç»“æœ

        Returns:
            {
                "module": "æ¨¡å—å",
                "score": 0-100,
                "priority_score": 0-100,
                "issues": [
                    {
                        "id": "issue-1",
                        "problem": "é—®é¢˜æè¿°",
                        "severity": "high|medium|low",
                        "suggestion": "ä¼˜åŒ–å»ºè®®"
                    }
                ],
                "highlights": ["äº®ç‚¹1", "äº®ç‚¹2"]
            }
        """
        pass

    @abstractmethod
    async def optimize(self, resume_data: Dict, issue_id: str = None) -> Dict:
        """ç”Ÿæˆä¼˜åŒ–å»ºè®®å’Œç¤ºä¾‹

        Returns:
            {
                "issue_id": "issue-1",
                "original": "åŸæ–‡",
                "optimized": "ä¼˜åŒ–åçš„å†…å®¹",
                "explanation": "ä¼˜åŒ–è¯´æ˜",
                "apply_path": "experience[0].details"  # å¯é€‰ï¼šåº”ç”¨è·¯å¾„
            }
        """
        pass

    def _calculate_priority_score(self, score: int, issues: List) -> int:
        """è®¡ç®—ä¼˜å…ˆçº§åˆ†æ•°

        è§„åˆ™ï¼š
        - åŸºç¡€åˆ† = (100 - score)  # åˆ†æ•°è¶Šä½ï¼Œä¼˜å…ˆçº§è¶Šé«˜
        - æœ‰ high ä¸¥é‡é—®é¢˜ +30
        - æœ‰ medium ä¸¥é‡é—®é¢˜ +15
        - æœ‰ low ä¸¥é‡é—®é¢˜ +5
        """
        priority = 100 - score
        for issue in issues:
            severity = issue.get("severity", "low")
            if severity == "high":
                priority += 30
            elif severity == "medium":
                priority += 15
            elif severity == "low":
                priority += 5
        return min(priority, 100)  # æœ€é«˜ 100
```

### 3.2 å·¥ä½œç»å†åˆ†æå™¨ç¤ºä¾‹

```python
# app/agent/module/work_analyzer.py

class WorkAnalyzer(BaseModuleAnalyzer):
    """å·¥ä½œç»å†åˆ†æå™¨"""

    name = "WorkAnalyzer"
    module_name = "work"
    module_display_name = "å·¥ä½œç»å†"

    system_prompt = """ä½ æ˜¯å·¥ä½œç»å†åˆ†æä¸“å®¶ï¼Œä½¿ç”¨ STAR æ³•åˆ™åˆ†æå·¥ä½œç»å†ã€‚

    åˆ†æç»´åº¦ï¼š
    1. Situation - èƒŒæ™¯æ˜¯å¦æ¸…æ™°
    2. Task - ä»»åŠ¡ç›®æ ‡æ˜¯å¦æ˜ç¡®
    3. Action - è¡ŒåŠ¨æ˜¯å¦å…·ä½“
    4. Result - æˆæœæ˜¯å¦é‡åŒ–

    è¿”å› JSON æ ¼å¼çš„åˆ†æç»“æœã€‚
    """

    async def analyze(self, resume_data: Dict) -> Dict:
        experience = resume_data.get("experience", [])

        issues = []
        highlights = []
        total_score = 0

        for i, exp in enumerate(experience):
            # STAR åˆ†æ
            star_score = self._analyze_star(exp)
            total_score += star_score

            if star_score < 60:
                issues.append({
                    "id": f"work-{i}",
                    "problem": f"{exp.get('company')} å·¥ä½œç»å†æè¿°ä¸å¤Ÿå…·ä½“",
                    "severity": "high",
                    "suggestion": "è¡¥å…… STAR è¦ç´ ï¼Œç‰¹åˆ«æ˜¯é‡åŒ–æˆæœ"
                })

        # è®¡ç®—å¹³å‡åˆ†
        avg_score = total_score // len(experience) if experience else 0

        # è®¡ç®—ä¼˜å…ˆçº§
        priority = self._calculate_priority_score(avg_score, issues)

        return {
            "module": self.module_name,
            "score": avg_score,
            "priority_score": priority,
            "issues": issues,
            "highlights": highlights
        }

    async def optimize(self, resume_data: Dict, issue_id: str = None) -> Dict:
        # æ ¹æ® issue_id æ‰¾åˆ°å¯¹åº”çš„å·¥ä½œç»å†
        # ä½¿ç”¨ LLM ç”Ÿæˆä¼˜åŒ–åçš„æè¿°
        ...
```

### 3.3 å·¥å…·åŒ…è£…

```python
# app/tool/module_analyzer_tools.py

class EducationAnalyzerTool(BaseTool):
    """æ•™è‚²ç»å†åˆ†æå·¥å…·"""

    name = "education_analyzer"
    description = "Analyze education section of resume"

    async def execute(self, action: str = "analyze", **kwargs) -> str:
        from app.agent.module.education_analyzer import EducationAnalyzer

        analyzer = EducationAnalyzer()
        resume_data = ResumeDataStore.get_data()

        if action == "analyze":
            result = await analyzer.analyze(resume_data)
        elif action == "optimize":
            result = await analyzer.optimize(resume_data, **kwargs)

        return json.dumps(result, ensure_ascii=False)

# ç±»ä¼¼åœ°å®šä¹‰ WorkAnalyzerTool, InternshipAnalyzerTool, SkillsAnalyzerTool
```

---

## 4. CVAnalyzer åè°ƒè€…è®¾è®¡

### 4.1 ç®€åŒ–åçš„ CVAnalyzer

```python
# app/agent/cv_analyzer.py (é‡æ„)

class CVAnalyzer(ToolCallAgent):
    """ç®€å†åˆ†æåè°ƒè€…"""

    name = "CVAnalyzer"
    description = "Coordinator for resume module analysis"

    system_prompt = """ä½ æ˜¯ç®€å†åˆ†æåè°ƒè€…ã€‚

    å·¥ä½œæµç¨‹ï¼š
    1. ç”¨æˆ·è¯´"åˆ†æç®€å†" â†’ è°ƒç”¨æ‰€æœ‰æ¨¡å—åˆ†æå™¨
    2. æ”¶é›†å„æ¨¡å—è¿”å›çš„ JSON ç»“æœ
    3. æŒ‰ priority_score é™åºæ’åº
    4. è¾“å‡ºæ•´ä½“æŠ¥å‘Šï¼ŒæŒ‡å‡ºæœ€éœ€è¦ä¼˜åŒ–çš„æ¨¡å—

    è¾“å‡ºæ ¼å¼ï¼š
    ## ğŸ“‹ ç®€å†åˆ†ææŠ¥å‘Š
    ã€æ•´ä½“è¯„åˆ†ã€‘XX/100
    ã€å„æ¨¡å—è¯„åˆ†ã€‘...
    ğŸ’¡ æœ€æ¨èä¼˜åŒ–ï¼šXXX (priority_score æœ€é«˜)

    ä¸è¦è‡ªå·±åˆ†æï¼Œè®©æ¨¡å—åˆ†æå™¨æ¥åšåˆ†æã€‚
    """

    available_tools = ToolCollection(
        ReadCVContext(),
        EducationAnalyzerTool(),
        WorkAnalyzerTool(),
        InternshipAnalyzerTool(),
        SkillsAnalyzerTool(),
        Terminate(),
    )

    # ç§»é™¤ä»¥ä¸‹æ–¹æ³•ï¼ˆç”±æ¨¡å—åˆ†æå™¨è´Ÿè´£ï¼‰ï¼š
    # - _analyze_star_for_experience
    # - _analyze_star_for_project
    # - _analyze_skills
    # - _check_completeness (éƒ¨åˆ†)

    async def _aggregate_results(self, results: List[Dict]) -> Dict:
        """èšåˆå„æ¨¡å—åˆ†æç»“æœ"""
        # æŒ‰ priority_score æ’åº
        sorted_results = sorted(results, key=lambda x: x["priority_score"], reverse=True)

        # è®¡ç®—æ•´ä½“è¯„åˆ†
        total_score = sum(r["score"] for r in results) // len(results)

        return {
            "overall_score": total_score,
            "modules": sorted_results,
            "top_priority": sorted_results[0] if sorted_results else None
        }
```

### 4.2 Prompt æ›´æ–°

```python
# app/prompt/cv_analyzer.py (æ›´æ–°)

SYSTEM_PROMPT = """ä½ æ˜¯ç®€å†åˆ†æåè°ƒè€…ï¼Œä¸ç›´æ¥åˆ†æç®€å†å†…å®¹ã€‚

èŒè´£ï¼š
1. è°ƒç”¨å„æ¨¡å—åˆ†æå™¨å·¥å…·è·å–åˆ†æç»“æœ
2. èšåˆç»“æœï¼ŒæŒ‰ä¼˜å…ˆçº§æ’åº
3. è¾“å‡ºæ ¼å¼åŒ–æŠ¥å‘Šç»™ç”¨æˆ·

å¯ç”¨å·¥å…·ï¼š
- education_analyzer: åˆ†ææ•™è‚²ç»å†
- work_analyzer: åˆ†æå·¥ä½œç»å†
- internship_analyzer: åˆ†æå®ä¹ ç»å†
- skills_analyzer: åˆ†æä¸“ä¸šæŠ€èƒ½

è¾“å‡ºæ ¼å¼ï¼š
## ğŸ“‹ ç®€å†åˆ†ææŠ¥å‘Š

ã€æ•´ä½“è¯„åˆ†ã€‘{overall_score}/100

ã€å„æ¨¡å—è¯„åˆ†ã€‘
- æ•™è‚²èƒŒæ™¯: {score}/100 {çŠ¶æ€}
- å·¥ä½œç»å†: {score}/100 {çŠ¶æ€}
- ...

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ æœ€æ¨èä¼˜åŒ–ï¼š**{top_priority_module}**

å›å¤"ä¼˜åŒ–{module}"ï¼ŒæŸ¥çœ‹è¯¦ç»†å»ºè®®å’Œä¼˜åŒ–ç¤ºä¾‹ã€‚
"""
```

---

## 5. æ•°æ®æ ¼å¼è§„èŒƒ

### 5.1 æ¨¡å—åˆ†æç»“æœæ ¼å¼

```json
{
  "module": "work",
  "module_display_name": "å·¥ä½œç»å†",
  "score": 55,
  "priority_score": 85,
  "issues": [
    {
      "id": "work-0",
      "problem": "è…¾è®¯åç«¯å¼€å‘ç»å†ç¼ºå°‘é‡åŒ–æˆæœ",
      "severity": "high",
      "suggestion": "æ·»åŠ å…·ä½“çš„æ•°æ®æˆæœï¼Œå¦‚ï¼šæå‡æ€§èƒ½ X%ã€æ”¯æ’‘ Y ç”¨æˆ·"
    }
  ],
  "highlights": [
    "æœ‰è…¾è®¯å·¥ä½œç»å†"
  ],
  "details": {
    "total_items": 2,
    "analyzed_items": 2
  }
}
```

### 5.2 ä¼˜åŒ–å»ºè®®æ ¼å¼

```json
{
  "issue_id": "work-0",
  "module": "work",
  "original": "è´Ÿè´£åç«¯å¼€å‘å·¥ä½œ",
  "optimized": "è´Ÿè´£ç”µå•†åç«¯å¼€å‘ï¼Œä½¿ç”¨ Spring Boot æ„å»ºå¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æ’‘æ—¥å‡ 10 ä¸‡è®¢å•ï¼Œæ¥å£å“åº”æ—¶é—´ä» 200ms ä¼˜åŒ–è‡³ 50ms",
  "explanation": "ä¼˜åŒ–è¯´æ˜ï¼šè¡¥å……äº†æŠ€æœ¯æ ˆã€ä¸šåŠ¡åœºæ™¯ã€é‡åŒ–æˆæœ",
  "apply_path": "experience[0].details"
}
```

---

## 6. ä¼˜å…ˆçº§è¯„åˆ†è§„åˆ™

### 6.1 ä¼˜å…ˆçº§åˆ†æ•°è®¡ç®—

```python
priority_score = (100 - module_score) + severity_bonus

# severity_bonus
high   = +30
medium = +15
low    = +5

# ä¾‹å­ï¼šå·¥ä½œç»å† score=50ï¼Œæœ‰ 1 ä¸ª high é—®é¢˜
priority_score = (100 - 50) + 30 = 80
```

### 6.2 å„æ¨¡å—è¯„åˆ†ç»´åº¦

| æ¨¡å— | è¯„åˆ†ç»´åº¦ |
|------|---------|
| **æ•™è‚²ç»å†** | é™¢æ ¡å±‚æ¬¡(30) + ä¸“ä¸šåŒ¹é…(30) + GPA/æ’å(20) + è£èª‰(20) |
| **å·¥ä½œç»å†** | STARå®Œæ•´æ€§(40) + é‡åŒ–æˆæœ(30) + æŠ€æœ¯ç›¸å…³æ€§(30) |
| **å®ä¹ ç»å†** | åŒå·¥ä½œç»å† |
| **ä¸“ä¸šæŠ€èƒ½** | æŠ€æœ¯æ ˆåŒ¹é…(40) + æè¿°å‡†ç¡®æ€§(30) + é¡¹ç›®ä½è¯(30) |

---

## 7. ç”¨æˆ·äº¤äº’æµç¨‹

### 7.1 å®Œæ•´å¯¹è¯ç¤ºä¾‹

```
ç”¨æˆ·: åˆ†ææˆ‘çš„ç®€å†

ç³»ç»Ÿ: ## ğŸ“‹ ç®€å†åˆ†ææŠ¥å‘Š

ã€æ•´ä½“è¯„åˆ†ã€‘58/100

ã€å„æ¨¡å—è¯„åˆ†ã€‘
- æ•™è‚²èƒŒæ™¯: 70/100 âœ… è‰¯å¥½
- å·¥ä½œç»å†: 45/100 âš ï¸ éœ€ä¼˜åŒ–
- å®ä¹ ç»å†: 60/100 ä¸€èˆ¬
- ä¸“ä¸šæŠ€èƒ½: 55/100 ä¸€èˆ¬

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
ğŸ’¡ æœ€æ¨èä¼˜åŒ–ï¼š**å·¥ä½œç»å†** (ä¼˜å…ˆçº§: 85)

ä¸»è¦é—®é¢˜ï¼šå·¥ä½œç»å†ç¼ºå°‘é‡åŒ–æˆæœ

å›å¤"ä¼˜åŒ–å·¥ä½œç»å†"ï¼ŒæŸ¥çœ‹è¯¦ç»†å»ºè®®å’Œä¼˜åŒ–ç¤ºä¾‹ã€‚

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ç”¨æˆ·: ä¼˜åŒ–å·¥ä½œç»å†

ç³»ç»Ÿ: ## ğŸ’¼ å·¥ä½œç»å†ä¼˜åŒ–å»ºè®®

### é—®é¢˜ 1: è…¾è®¯åç«¯å¼€å‘ç»å†

ã€åŸæ–‡ã€‘
è´Ÿè´£åç«¯å¼€å‘å·¥ä½œï¼Œå‚ä¸ç³»ç»Ÿè®¾è®¡å’Œä¼˜åŒ–ã€‚

ã€é—®é¢˜åˆ†æã€‘
- âŒ ç¼ºå°‘å…·ä½“æŠ€æœ¯æ ˆ
- âŒ ç¼ºå°‘é‡åŒ–æˆæœ
- âŒ ç¼ºå°‘ä¸šåŠ¡èƒŒæ™¯

ã€ä¼˜åŒ–ç¤ºä¾‹ã€‘
è´Ÿè´£ç”µå•†åç«¯å¼€å‘ï¼Œä½¿ç”¨ Spring Boot æ„å»ºå¾®æœåŠ¡æ¶æ„ï¼Œæ”¯æ’‘æ—¥å‡ 10 ä¸‡è®¢å•ï¼Œé€šè¿‡å¼•å…¥ Redis ç¼“å­˜å°†æ¥å£å“åº”æ—¶é—´ä» 200ms ä¼˜åŒ–è‡³ 50msã€‚

ã€ä¼˜åŒ–è¦ç‚¹ã€‘
- âœ… è¡¥å……æŠ€æœ¯æ ˆï¼šSpring Bootã€Redis
- âœ… è¡¥å……ä¸šåŠ¡åœºæ™¯ï¼šç”µå•†ã€æ—¥å‡ 10 ä¸‡è®¢å•
- âœ… è¡¥å……é‡åŒ–æˆæœï¼š200ms â†’ 50ms

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

æ˜¯å¦åº”ç”¨æ­¤ä¼˜åŒ–ï¼Ÿ
- å›å¤"æ˜¯"åº”ç”¨ä¼˜åŒ–
- å›å¤"è°ƒæ•´"ä¿®æ”¹ç¤ºä¾‹
- å›å¤"ä¸‹ä¸€ä¸ª"æŸ¥çœ‹å…¶ä»–é—®é¢˜
```

---

## 8. å®ç°è®¡åˆ’

### 8.1 æ–°å¢æ–‡ä»¶

| æ–‡ä»¶ | è¯´æ˜ |
|------|------|
| `app/agent/module/__init__.py` | æ¨¡å—ç›®å½•åˆå§‹åŒ– |
| `app/agent/module/base_module_analyzer.py` | æ¨¡å—åˆ†æå™¨åŸºç±» |
| `app/agent/module/education_analyzer.py` | æ•™è‚²ç»å†åˆ†æå™¨ |
| `app/agent/module/work_analyzer.py` | å·¥ä½œç»å†åˆ†æå™¨ |
| `app/agent/module/internship_analyzer.py` | å®ä¹ ç»å†åˆ†æå™¨ |
| `app/agent/module/skills_analyzer.py` | ä¸“ä¸šæŠ€èƒ½åˆ†æå™¨ |
| `app/tool/module_analyzer_tools.py` | æ¨¡å—åˆ†æå™¨å·¥å…·åŒ…è£… |
| `app/prompt/module/__init__.py` | æ¨¡å— prompt ç›®å½• |
| `app/prompt/module/education_prompt.py` | æ•™è‚² prompt |
| `app/prompt/module/work_prompt.py` | å·¥ä½œ prompt |
| `app/prompt/module/internship_prompt.py` | å®ä¹  prompt |
| `app/prompt/module/skills_prompt.py` | æŠ€èƒ½ prompt |

### 8.2 ä¿®æ”¹æ–‡ä»¶

| æ–‡ä»¶ | ä¿®æ”¹å†…å®¹ |
|------|---------|
| `app/agent/cv_analyzer.py` | ç§»é™¤å…·ä½“åˆ†æé€»è¾‘ï¼Œæ”¹ä¸ºåè°ƒè€… |
| `app/prompt/cv_analyzer.py` | æ›´æ–° prompt ä¸ºåè°ƒè€…è§’è‰² |

### 8.3 å®ç°é¡ºåº

1. **ç¬¬ä¸€é˜¶æ®µï¼šåŸºç±» + æ•™è‚²æ¨¡å—**
   - åˆ›å»º `base_module_analyzer.py`
   - å®ç° `education_analyzer.py`
   - åˆ›å»ºå·¥å…·åŒ…è£…
   - æµ‹è¯•

2. **ç¬¬äºŒé˜¶æ®µï¼šå…¶ä»–æ¨¡å—**
   - å®ç° `work_analyzer.py`
   - å®ç° `internship_analyzer.py`
   - å®ç° `skills_analyzer.py`

3. **ç¬¬ä¸‰é˜¶æ®µï¼šCVAnalyzer é‡æ„**
   - ç§»é™¤ CVAnalyzer ä¸­çš„å…·ä½“åˆ†æé€»è¾‘
   - æ”¹ä¸ºè°ƒç”¨æ¨¡å—å·¥å…·
   - æ›´æ–° prompt

---

## 9. å…³é”®è®¾è®¡å†³ç­–

### 9.1 ä¸ºä»€ä¹ˆ CVAnalyzer è¦åš"è–„"åè°ƒè€…ï¼Ÿ

| åš CVAnalyzer | è–„ CVAnalyzer |
|--------------|--------------|
| æ‰€æœ‰åˆ†æé€»è¾‘é›†ä¸­ï¼Œéš¾ä»¥ç»´æŠ¤ | èŒè´£åˆ†ç¦»ï¼Œå„æ¨¡å—ç‹¬ç«‹ç»´æŠ¤ |
| æ–°å¢æ¨¡å—éœ€è¦ä¿®æ”¹æ ¸å¿ƒä»£ç  | æ–°å¢æ¨¡å—åªéœ€æ·»åŠ æ–°æ–‡ä»¶ |
| éš¾ä»¥å•ç‹¬æµ‹è¯•æŸä¸ªæ¨¡å— | æ¯ä¸ªæ¨¡å—å¯ç‹¬ç«‹æµ‹è¯• |
| Agent èƒ½åŠ›æµªè´¹ | CVAnalyzer åªåšåè°ƒï¼Œä¸éœ€è¦å¤æ‚æ¨ç† |

### 9.2 ä¸ºä»€ä¹ˆæ¨¡å—è‡ªå·±è¯„åˆ†ï¼Ÿ

- æ¨¡å—æœ€äº†è§£è‡ªå·±é¢†åŸŸçš„ä¸¥é‡ç¨‹åº¦
- CVAnalyzer ä¸éœ€è¦ç†è§£æ¯ä¸ªæ¨¡å—çš„ç»†èŠ‚
- è§£è€¦ã€æ˜“æ‰©å±•

### 9.3 ä¸ºä»€ä¹ˆåˆ†æå’Œä¼˜åŒ–åˆ†å¼€ï¼Ÿ

- åˆ†æé˜¶æ®µå¿«é€Ÿè¿”å› JSONï¼Œç”¨æˆ·å¯å¿«é€Ÿæµè§ˆ
- ä¼˜åŒ–é˜¶æ®µéœ€è¦ LLM ç”Ÿæˆï¼ŒæŒ‰éœ€è°ƒç”¨
- é¿å…å•æ¬¡è¿”å›è¿‡é•¿

---

## 10. æ‰©å±•æ€§

### 10.1 æ–°å¢æ¨¡å—æ­¥éª¤

1. ç»§æ‰¿ `BaseModuleAnalyzer`
2. å®ç° `analyze()` å’Œ `optimize()` æ–¹æ³•
3. åˆ›å»ºå¯¹åº”çš„ Tool åŒ…è£…
4. åœ¨ CVAnalyzer çš„ `available_tools` ä¸­æ·»åŠ 

### 10.2 æ”¯æŒè‡ªå®šä¹‰å²—ä½

æ¯ä¸ªæ¨¡å—åˆ†æå™¨å¯ä»¥æ¥å— `target_position` å‚æ•°ï¼Œæ ¹æ®ä¸åŒå²—ä½è°ƒæ•´è¯„åˆ†æƒé‡ï¼š

```python
async def analyze(self, resume_data: Dict, target_position: str = "åç«¯å¼€å‘") -> Dict:
    # æ ¹æ®ç›®æ ‡å²—ä½è°ƒæ•´è¯„åˆ†è§„åˆ™
    ...
```
